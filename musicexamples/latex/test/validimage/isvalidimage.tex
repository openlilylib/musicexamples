% Solution by Ulrike Fischer
%  http://tex.stackexchange.com/questions/99070/check-for-a-valid-file-before-using-includegraphics

\documentclass[]{article}
\usepackage{graphicx}

\makeatletter
\newif\ifgraphicexist

\newcommand\imagetest[1]{%
 \begingroup
 \let\Gin@ext\relax
 \filename@parse{#1}
 \ifx\filename@ext\relax
    \@for\Gin@temp:=\Gin@extensions\do{%
      \ifx\Gin@ext\relax
        \Gin@getbase\Gin@temp
      \fi}%
  \else
    \Gin@getbase{\Gin@sepdefault\filename@ext}%
    \ifx\Gin@ext\relax
       \@warning{File `#1' not found}% can be removed too
    \fi
  \fi
 \ifx\Gin@ext\relax
  \aftergroup\graphicexisttrue
 \else
  \xdef\imageextension{\Gin@ext}%
   \aftergroup\graphicexistfalse
 \fi\endgroup
 \ifgraphicexist
  \expandafter\@secondoftwo
 \else
  \expandafter \@firstoftwo
 \fi 
 } 
\begin{document}

\imagetest{bsp1}{Yes, \imageextension}{No}

\includegraphics{bsp1}

\imagetest{bsp1.pdf}{Yes, \imageextension}{No}

\includegraphics{bsp1}

\imagetest{bsp2}{Yes, \imageextension}{No}

\imagetest{bsp2.midi}{Yes, \imageextension}{No}
\end{document}